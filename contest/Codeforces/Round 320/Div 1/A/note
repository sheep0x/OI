Copyright 2015 陈睿超<linuxer.sheep.0x@gmail.com>
本作品采用知识共享 署名-相同方式共享 4.0 国际 许可协议进行许可。访问 http://creativecommons.org/licenses/by-sa/4.0/deed.zh 查看该许可协议。

/*
如果在斜率= 1的线段上，则a = 2kx + b。(a-b)/2x = k，k为非负整数。
如果在斜率=-1的线段上，则a = 2kx - b。(a+b)/2x = k，k为正整数。
但上面只是必要条件，不是充要条件。而且k和x都是未知数。
*/

嗯于是在上课的时候（魂淡认真听课啊）发现其实很简单嘛，如果斜率=1，那么穿过(a,b)的线段所在的直线是唯一的。或者说，线段必然与x轴相交且交点是唯一确定的（若存在），而且很好求。交点在(a-b, 0)。同理如果斜率=-1，交点在(a+b, 0)。
有交点之后我们知道交点横坐标px必须是2*k*x，其中k是整数并且不能小于某个值。那我们可以任取k，左边折来折去的部分肯定都有解；问题是最后的一段是否合法。首先必须x >= b，否则就够不着(a,b)了。如果x >= b的话，是否一定有解呢？
呃，我们回顾一下所有的假设。首先交点要存在...只要能够折折折，就存在交点。也就是说交点必须位于x轴正半轴或原点。原点比较特殊（因为不是折折折而是在出发点原地不动），单独考虑。交点存在之后我们要考虑折了多少折，这决定了x，而x决定了最后一段是否穿过(a,b)。
貌似就没有别的条件了。水水的。
然后就做错了...
无限怨念
太天真了少年

句子认真读啊魂淡，“确保交点存在之后要选择折多少下，根据我们的选择，x可能合法或不合法”。谁说一定存在一个选择使得x合法了！说不定怎么选都不合法啊。
于是蠢蠢地在二分法的时候一路向下，最终选择了最大的x。（实际上连最大的x都不够大）
好，那我们重新想想。只要存在一个合法的折数，那么比这更小的折数一定都合法，比这更大的折数未必合法，所以合法和不合法是分开的两段，没有交错，可以二分。因此只要确定是否存在合法折数就可以了。
或者正难则反，确定是否任何折数都不合法。
根据上文易知，只要有合法解，最小折数（只有两条线段的情况）必然是合法解之一。那么我们就检查这种情况是否合法。很简单，交点x坐标除以2得出x，看这个max x是否大于等于b。是的话就存在合法解，直接二分；不是的话直接return，gg。

TODO debug了半天没找出问题，后来才发现(2,1)这个点会跪，x = 0.5明显不对。可是这种bug要如何发现呢？靠瞎猜恐怕很难猜出吧...还是说至少先把10以内的数据全部手算一遍？或者果然还是静下心来仔细证明比较好吧。

在还剩30秒的时候把bug改完提交，剩下10秒。然后...忘了删debug代码了...
叫你不切题，一打比赛就跪了吧...

